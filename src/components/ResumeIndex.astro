---
import Hero from "@/components/organism/Hero.astro";
import Layout from "@/layouts/Layout.astro";
import KeyboardManager from "@/components/KeyBoardManager.astro";
import Section from "@/components/Section.astro";
import About from "@/components/organism/About.astro";
import Experience from "@/components/organism/Experience.astro";
import Projects from "@/components/organism/Projects.astro";
import Skills from "@/components/organism/Skills.astro";
import SoftSkills from "@/components/organism/SoftSkills.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import { getEntry } from "astro:content";
const LANG = getLangFromUrl(Astro.url);
const t = useTranslations(LANG);
const entry = await getEntry("cv", LANG);
if (!entry) return;

const { basics } = entry.data;
const { name, label } = basics;
---

<Layout title={`${t("title")} ${name} - ${label}`}>
  <main class="container">
    <Section><Hero data={entry.data} /></Section>
    <Section title={t("section.skills")}><Skills data={entry.data} /></Section>
    <Section title={t("section.experience")}
      ><Experience data={entry.data} /></Section
    >
    <Section title={t("section.projects")}
      ><Projects data={entry.data} /></Section
    >
    <Section title={t("section.softSkills")}
      ><SoftSkills data={entry.data} /></Section
    >
    <KeyboardManager data={entry.data} />
  </main>
</Layout>

<style>
  .container {
    padding: 2rem;
    box-sizing: border-box;
  }

  @media (min-width: 768px) {
    .container {
      padding: 3rem;
    }
  }
</style>
